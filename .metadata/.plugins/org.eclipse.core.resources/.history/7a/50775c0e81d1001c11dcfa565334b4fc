/*
 ============================================================================
 Name        : TP2.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>

int main(void) {
	setbuf(stdout, NULL);
	    int id;
	    char nombre[51];
	    char apellido[51];
	    float precio;
	    int tipo;
	    char codigo[10];
	    int retornoFuncion;
	    int opcion;
	    char informe;
	    //ePasajero Lista[3];
	    ePasajero Lista[3] = {{100,"Juan","Barberon",110,MENOR,"abc102",ACTIVO,0},
	                        {200,"Manuel","Perez",105,ADULTO,"abc100",ATERRIZADO,0},
	                        {300,"Coty","Perez",80,BEBE,"abc100",ACTIVO,0}};

	    //InicializarListaProducto(Lista, 3);
	    //ePasajero listaProductos[TAM] = {{1000,"Iphone 12",1,1,1000,FULL},{2000,"Macbook Air",3,2,1200,FULL},{5000,"MagSafe",3,4,50,FULL},{2500,"Ipad 5",3,3,750,FULL},{4000,"Ipad 3",2,3,400,FULL}};
	    MostrarListado(Lista, 3);
	    do{

	    printf("\n1. Altas\n");
	    printf("2. Modificar\n");
	    printf("3. Baja\n");
	    printf("4. Informar\n");
	    printf("5. Salir \n");


	    opcion=enteroValidado("Elija una opcion: ","La opcion debe ser del 1 al 5: ", 1,5);

	    switch(opcion){
	    case 1:
	    retornoFuncion = IngresarPasajro(Lista, 3, id, nombre, apellido, precio, tipo, codigo);
	        if(retornoFuncion != -1){
	        	puts("El pasajero se cargo exitosamente\n");
	        }else{
	        	puts("El pasajero no pudo cargarse\n");
	        }
	    break;
	    case 2:
	    modificarPasajero(Lista,3);
	    break;
	    case 3:
	    darDeBaja(Lista,3);
	    break;
	    case 4:
	    MostrarListado(Lista, 3);
	    int contador = 0;
	        do{

	        printf("\na. Listado de los pasajeros ordenados alfabéticamente por Apellido y Tipo de pasajero.\n");
	        printf("b. Total y promedio de los precios de los pasajes, y cuántos pasajeros superan el precio promedio.\n");
	        printf("c. Listado de los pasajeros por Código de vuelo y estados de vuelos ‘ACTIVO’.\n");

	        informe=IngreseCaracter("\nIngrese opcion de informe: ");

	        switch(informe){
	        case 'a':
	        OrdenarListadoPorApellidoYTipo(Lista,3,1);
	        contador++;
	        break;
	        case 'b':
	        //printf("\nSe muestra el precio total , promedio por pasaje y pasajeros por encima del promedio\n");
	        CalculosPasajes(Lista,3);
	        contador++;
	        break;
	        case 'c':
	        OrdenarPorCodigoYEstado(Lista,3,1);

	        contador++;
	        break;
	        }
	        }while(contador!=1);
	    break;
	    }
	}while(opcion!=5);

	return EXIT_SUCCESS;
}
